generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider     = "postgresql"
  url          = env("POSTGRES_PRISMA_URL")
  directUrl    = env("POSTGRES_URL_NON_POOLING")
  relationMode = "foreignKeys"
  schemas      = ["neon_auth", "public"]
}

model neon_auth_users {
  raw_json   Json
  id         String    @id @default(dbgenerated("(raw_json ->> 'id'::text)"))
  name       String?   @default(dbgenerated("(raw_json ->> 'display_name'::text)"))
  email      String?   @default(dbgenerated("(raw_json ->> 'primary_email'::text)"))
  created_at DateTime? @default(dbgenerated("to_timestamp((trunc((((raw_json ->> 'signed_up_at_millis'::text))::bigint)::double precision) / (1000)::double precision))")) @db.Timestamptz(6)
  updated_at DateTime? @db.Timestamptz(6)
  deleted_at DateTime? @db.Timestamptz(6)

  quotes     quotes[]

  @@map("users_sync")
  @@schema("neon_auth")
}

model quotes {
  id           Int      @id @default(autoincrement())
  quote        String
  uploadedAt   DateTime @default(now())
  uploadedById String

  uploadedBy   neon_auth_users @relation(fields: [uploadedById], references: [id])

  @@schema("public")
}
